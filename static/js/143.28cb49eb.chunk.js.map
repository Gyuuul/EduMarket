{"version":3,"file":"static/js/143.28cb49eb.chunk.js","mappings":"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","sources":["pages/profile/ProfileModify.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport styled from 'styled-components';\r\n\r\nimport instance from '../../lib/apis/interceptor';\r\n\r\nimport Common from '../../components/common/Common';\r\nimport { URL } from '../../lib/apis/constant/path'\r\nimport handleFileUpload from '../signup/handleFileUpload';\r\nimport { onChangeIntro, onChangeUserName } from '../../store/slice/userSlice'\r\n\r\nexport default function ProfileModify() {\r\n    const token= localStorage.getItem('Access Token');\r\n    const user= useSelector((state)=> state.user.myInfo);\r\n    const [image, setImage]= useState(user?.image);\r\n    const navigate= useNavigate();\r\n    const dispatch= useDispatch();\r\n    const fileInput= useRef();\r\n\r\n    // input값 수정 함수\r\n    const onEdit = async (e) => {\r\n        if (e.target.name === 'userName') {\r\n                dispatch(onChangeUserName(e.target.value));\r\n            } else if (e.target.name === 'userInfo') {\r\n                dispatch(onChangeIntro(e.target.value));\r\n            } \r\n        };\r\n\r\n    // 수정 후 업데이트\r\n    const putProfile= async(e)=> {\r\n        e.preventDefault();\r\n\r\n    try {\r\n        const response = await instance.put(`/user`, {\r\n            user: {\r\n            username: user.username,\r\n            accountname: user.accountname,\r\n            intro: user.intro,\r\n            image: image,\r\n        }\r\n    });\r\n        console.log(response);\r\n        navigate(`/myprofile`);\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n    }\r\n\r\n    const back= ()=> {\r\n        navigate(`/myprofile`);\r\n    } \r\n\r\n    const page=  (\r\n        <ModifyWrap>\r\n            <ModifyDiv>\r\n                <Wrap>\r\n                    <ImageDiv>\r\n                        <img src={image} alt=\"나의 프로필 이미지\"/>\r\n                        <ProfileImgLabel htmlFor='ProfileImg'>사진 변경</ProfileImgLabel>\r\n                            <ProfileImgInput \r\n                                onChange={async (e) => {\r\n                                    setImage(await handleFileUpload(e, image));\r\n                                }}\r\n                                ref={fileInput} \r\n                                type='file' \r\n                                id='ProfileImg' \r\n                            />\r\n                    </ImageDiv>  \r\n\r\n                    <Div>\r\n                        <ProfileLabel htmlFor=\"id\">아이디</ProfileLabel>\r\n                        <br/>\r\n                        <ProfileInput\r\n                            value={user.accountname}\r\n                            type= 'text'\r\n                            id=\"id\"\r\n                            placeholder='아이디'\r\n                            maxLength={11}\r\n                        /> \r\n                    </Div>\r\n                    \r\n                    <Div>\r\n                        <ProfileLabel htmlFor=\"name\">이름</ProfileLabel>\r\n                        <br/>\r\n                        <ProfileInput\r\n                            onChange={onEdit}\r\n                            defaultValue={user.username}\r\n                            type= 'text'\r\n                            id=\"name\"\r\n                            name='userName'\r\n                            placeholder='닉네임'\r\n                            required\r\n                            maxLength={11}\r\n                        /> \r\n                    </Div>\r\n\r\n                    <Div>\r\n                        <ProfileLabel htmlFor=\"intro\">자기소개</ProfileLabel>\r\n                        <br/>\r\n                        <IntroArea\r\n                            onChange={onEdit} \r\n                            defaultValue={user.intro} \r\n                            id=\"intro\"\r\n                            name='userInfo'\r\n                            style={{resize: 'none'}}\r\n                            />\r\n                    </Div>\r\n\r\n                    <ButtonDiv>\r\n                        <Button onClick={putProfile} aria-label=\"완료\">완료</Button>\r\n                        <Button onClick={back} aria-label=\"취소\">취소</Button>\r\n                    </ButtonDiv>\r\n                </Wrap>\r\n            </ModifyDiv>\r\n        </ModifyWrap>\r\n    )\r\n    return (\r\n        <>\r\n            <Common page={page} />\r\n        </>\r\n    );\r\n}\r\nconst ModifyWrap= styled.div`\r\n    background-color: #f1f2f3;\r\n    padding: 30px 0;\r\n`\r\nconst ModifyDiv= styled.div`\r\n    position: relative;\r\n    width: 1280px;\r\n    margin: 0 auto;\r\n    padding: 120px 0 0 0;\r\n`\r\nconst Wrap= styled.div`\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    padding: 40px 80px;\r\n    border: 1px solid rgba(0,0,0,0.09);\r\n    border-radius: 15px;\r\n    box-shadow: 0 1px 4px rgba(0,0,0,0.04);\r\n    background-color: #ffff;\r\n`\r\nconst ImageDiv= styled.div`\r\n    position: relative;\r\n    width: 180px;\r\n    height: 180px;\r\n    margin-bottom: 30px;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n\r\n    & img {\r\n        width: 180px;\r\n        height: 180px;\r\n        margin-bottom: 10px;\r\n        border-radius: 50%;\r\n    }\r\n`\r\nconst Div= styled.div`\r\n    margin-bottom: 10px;\r\n`\r\nconst ProfileImgLabel= styled.label`\r\n    position: absolute;\r\n    bottom: 0px;\r\n    left: 50%;\r\n    width: 180px;\r\n    height: 80px;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    font-size: 17px;\r\n    color: white;\r\n    text-align: center;\r\n    line-height: 70px;\r\n    transform: translateX(-50%);\r\n    cursor: pointer;\r\n`\r\nconst ProfileImgInput= styled.input`\r\n    display: none;\r\n`\r\nconst ProfileLabel= styled.label`\r\n    color: #2b2b2b;\r\n    font-weight: 600;\r\n    line-height: 30px;\r\n`\r\nconst ProfileInput= styled.input`\r\n    width: 300px;\r\n    height: 30px;\r\n    padding: 12px;\r\n    border-radius: 0.25rem;\r\n    border-width: 1px;\r\n`\r\nconst IntroArea= styled.textarea`\r\n    width: 300px;\r\n    padding: 12px;\r\n    border-radius: 0.25rem;\r\n    border-width: 1px;\r\n`\r\nconst ButtonDiv= styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 15px;\r\n    margin-top: 20px;\r\n`\r\nconst Button= styled.button`\r\n    width: 155px;\r\n    padding: 12px;\r\n    border-radius: 0.25rem;\r\n    background: #C63D2F;\r\n    color: #ffff;\r\n`\r\n"],"names":["ProfileModify","localStorage","getItem","user","useSelector","state","myInfo","_useState","useState","image","_useState2","_slicedToArray","setImage","navigate","useNavigate","dispatch","useDispatch","fileInput","useRef","onEdit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","target","name","onChangeUserName","value","onChangeIntro","stop","_x","apply","arguments","putProfile","_ref2","_callee2","response","_context2","preventDefault","instance","put","username","accountname","intro","sent","console","log","t0","_x2","page","_jsx","ModifyWrap","children","ModifyDiv","_jsxs","Wrap","ImageDiv","src","alt","ProfileImgLabel","htmlFor","ProfileImgInput","onChange","_ref3","_callee3","_context3","handleFileUpload","t1","_x3","ref","type","id","Div","ProfileLabel","ProfileInput","placeholder","maxLength","defaultValue","required","IntroArea","style","resize","ButtonDiv","Button","onClick","_Fragment","Common","styled","div","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_templateObject4","_templateObject5","label","_templateObject6","input","_templateObject7","_templateObject8","_templateObject9","textarea","_templateObject10","_templateObject11","button","_templateObject12"],"sourceRoot":""}