{"version":3,"file":"static/js/143.b98637bf.chunk.js","mappings":"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","sources":["pages/profile/ProfileModify.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport styled from 'styled-components';\r\nimport instance from '../../lib/apis/interceptor';\r\nimport Common from '../../components/common/Common';\r\nimport handleFileUpload from '../signup/handleFileUpload';\r\nimport { onChangeIntro, onChangeUserName } from '../../store/slice/userSlice'\r\n\r\nexport default function ProfileModify() {\r\n    const user= useSelector((state)=> state.user.myInfo);\r\n    const [image, setImage]= useState(user?.image);\r\n    const navigate= useNavigate();\r\n    const dispatch= useDispatch();\r\n    const fileInput= useRef();\r\n\r\n    // input값 수정 함수\r\n    const onEdit = async (e) => {\r\n        if (e.target.name === 'userName') {\r\n                dispatch(onChangeUserName(e.target.value));\r\n            } else if (e.target.name === 'userInfo') {\r\n                dispatch(onChangeIntro(e.target.value));\r\n            } \r\n        };\r\n\r\n    // 수정 후 업데이트\r\n    const putProfile= async(e)=> {\r\n        e.preventDefault();\r\n\r\n    try {\r\n        await instance.put(`/user`, {\r\n            user: {\r\n            username: user.username,\r\n            accountname: user.accountname,\r\n            intro: user.intro,\r\n            image: image,\r\n        }\r\n    });\r\n        navigate(`/myprofile`);\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n    }\r\n\r\n    const back= ()=> {\r\n        navigate(`/myprofile`);\r\n    } \r\n\r\n    const page=  (\r\n        <ModifyWrap>\r\n            <ModifyDiv>\r\n                <Wrap>\r\n                    <ImageDiv>\r\n                        <img src={image} alt=\"나의 프로필 이미지\"/>\r\n                        <ProfileImgLabel htmlFor='ProfileImg'>사진 변경</ProfileImgLabel>\r\n                            <ProfileImgInput \r\n                                onChange={async (e) => {\r\n                                    setImage(await handleFileUpload(e, image));\r\n                                }}\r\n                                ref={fileInput} \r\n                                type='file' \r\n                                id='ProfileImg' \r\n                            />\r\n                    </ImageDiv>  \r\n\r\n                    <Div>\r\n                        <ProfileLabel htmlFor=\"id\">아이디</ProfileLabel>\r\n                        <br/>\r\n                        <ProfileInput\r\n                            value={user.accountname}\r\n                            type= 'text'\r\n                            id=\"id\"\r\n                            placeholder='아이디'\r\n                            maxLength={11}\r\n                        /> \r\n                    </Div>\r\n                    \r\n                    <Div>\r\n                        <ProfileLabel htmlFor=\"name\">이름</ProfileLabel>\r\n                        <br/>\r\n                        <ProfileInput\r\n                            onChange={onEdit}\r\n                            defaultValue={user.username}\r\n                            type= 'text'\r\n                            id=\"name\"\r\n                            name='userName'\r\n                            placeholder='닉네임'\r\n                            required\r\n                            maxLength={11}\r\n                        /> \r\n                    </Div>\r\n\r\n                    <Div>\r\n                        <ProfileLabel htmlFor=\"intro\">자기소개</ProfileLabel>\r\n                        <br/>\r\n                        <IntroArea\r\n                            onChange={onEdit} \r\n                            defaultValue={user.intro} \r\n                            id=\"intro\"\r\n                            name='userInfo'\r\n                            style={{resize: 'none'}}\r\n                            />\r\n                    </Div>\r\n\r\n                    <ButtonDiv>\r\n                        <Button onClick={putProfile} aria-label=\"완료\">완료</Button>\r\n                        <Button onClick={back} aria-label=\"취소\">취소</Button>\r\n                    </ButtonDiv>\r\n                </Wrap>\r\n            </ModifyDiv>\r\n        </ModifyWrap>\r\n    )\r\n    return (\r\n        <>\r\n            <Common page={page} />\r\n        </>\r\n    );\r\n}\r\nconst ModifyWrap= styled.div`\r\n    padding: 30px 0;\r\n    background-color: #f1f2f3;\r\n`\r\nconst ModifyDiv= styled.div`\r\n    position: relative;\r\n    width: 1280px;\r\n    margin: 0 auto;\r\n    padding: 120px 0 0 0;\r\n`\r\nconst Wrap= styled.div`\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 40px 80px;\r\n    border: 1px solid rgba(0,0,0,0.09);\r\n    border-radius: 15px;\r\n    background-color: #ffff;\r\n    box-shadow: 0 1px 4px rgba(0,0,0,0.04);\r\n`\r\nconst ImageDiv= styled.div`\r\n    position: relative;\r\n    width: 180px;\r\n    height: 180px;\r\n    margin-bottom: 30px;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    & img {\r\n        width: 180px;\r\n        height: 180px;\r\n        margin-bottom: 10px;\r\n        border-radius: 50%;\r\n    }\r\n`\r\nconst Div= styled.div`\r\n    margin-bottom: 10px;\r\n`\r\nconst ProfileImgLabel= styled.label`\r\n    position: absolute;\r\n    bottom: 0px;\r\n    left: 50%;\r\n    width: 180px;\r\n    height: 80px;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    font-size: 17px;\r\n    color: white;\r\n    text-align: center;\r\n    line-height: 70px;\r\n    transform: translateX(-50%);\r\n    cursor: pointer;\r\n`\r\nconst ProfileImgInput= styled.input`\r\n    display: none;\r\n`\r\nconst ProfileLabel= styled.label`\r\n    color: #2b2b2b;\r\n    font-weight: 600;\r\n    line-height: 30px;\r\n`\r\nconst ProfileInput= styled.input`\r\n    width: 300px;\r\n    height: 30px;\r\n    padding: 12px;\r\n    border-radius: 0.25rem;\r\n    border-width: 1px;\r\n`\r\nconst IntroArea= styled.textarea`\r\n    width: 300px;\r\n    padding: 12px;\r\n    border-radius: 0.25rem;\r\n    border-width: 1px;\r\n`\r\nconst ButtonDiv= styled.div`\r\n    display: flex;\r\n    gap: 15px;\r\n    align-items: center;\r\n    margin-top: 20px;\r\n`\r\nconst Button= styled.button`\r\n    width: 155px;\r\n    padding: 12px;\r\n    border-radius: 0.25rem;\r\n    background: #C63D2F;\r\n    color: #ffff;\r\n`\r\n"],"names":["ProfileModify","user","useSelector","state","myInfo","_useState","useState","image","_useState2","_slicedToArray","setImage","navigate","useNavigate","dispatch","useDispatch","fileInput","useRef","onEdit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","target","name","onChangeUserName","value","onChangeIntro","stop","_x","apply","arguments","putProfile","_ref2","_callee2","_context2","preventDefault","instance","put","username","accountname","intro","t0","console","log","_x2","page","_jsx","ModifyWrap","children","ModifyDiv","_jsxs","Wrap","ImageDiv","src","alt","ProfileImgLabel","htmlFor","ProfileImgInput","onChange","_ref3","_callee3","_context3","handleFileUpload","t1","sent","_x3","ref","type","id","Div","ProfileLabel","ProfileInput","placeholder","maxLength","defaultValue","required","IntroArea","style","resize","ButtonDiv","Button","onClick","_Fragment","Common","styled","div","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_templateObject4","_templateObject5","label","_templateObject6","input","_templateObject7","_templateObject8","_templateObject9","textarea","_templateObject10","_templateObject11","button","_templateObject12"],"sourceRoot":""}