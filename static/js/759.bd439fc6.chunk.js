"use strict";(self.webpackChunkedu=self.webpackChunkedu||[]).push([[759],{759:function(n,e,t){t.r(e),t.d(e,{default:function(){return J}});var r,i,o,a,s,p,c,l,u,d,x,g,h,f,Z,b=t(168),m=t(4165),j=t(3433),v=t(5861),w=t(9439),P=t(2791),k=t(7689),y=t(1243),C=t(5867),z=t(2451),F=t(2754),S=t(3116),D=t(6842),R=t(184);function J(){var n=localStorage.getItem("Access Token"),e=(0,P.useState)(""),t=(0,w.Z)(e,2),r=t[0],i=t[1],o=(0,P.useState)([]),a=(0,w.Z)(o,2),s=a[0],p=a[1],c=(0,P.useState)([]),l=(0,w.Z)(c,2),u=l[0],d=l[1],x=(0,P.useState)(""),g=(0,w.Z)(x,2),h=g[0],f=g[1],Z=(0,P.useState)(""),b=(0,w.Z)(Z,2),C=b[0],J=b[1],Q=(0,P.useRef)(null),V=(0,k.s0)(),W={post:{content:"",image:""}};function X(n){return Y.apply(this,arguments)}function Y(){return(Y=(0,v.Z)((0,m.Z)().mark((function n(e){var t,r,i;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("image",e),n.next=4,y.Z.post("".concat(F.J,"/image/uploadfile"),t);case 4:return r=n.sent,i="".concat(F.J,"/")+r.data.filename,n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function $(){return($=(0,v.Z)((0,m.Z)().mark((function e(){var t,i,o;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],i=0;i<(null===u||void 0===u?void 0:u.length);i++)t.push(X(u[i]));return e.next=4,Promise.all(t);case 4:return o=e.sent,W.post.image=o.join(","),W.post.content=r,""==W.post.content&&""==W.post.image&&J("\uae00 \ub610\ub294 \uc0ac\uc9c4\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.prev=8,e.next=11,y.Z.post("".concat(F.J,"/post"),W,{headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"}});case 11:e.sent,V("/post/feed"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}var nn=(0,R.jsx)(A,{children:(0,R.jsx)(B,{children:(0,R.jsxs)(I,{children:[(0,R.jsx)(L,{children:(0,R.jsx)("h2",{children:"POST"})}),(0,R.jsx)(O,{children:" \uae00\uacfc \uc0ac\uc9c4\uc744 \uc790\uc720\ub86d\uac8c \uacf5\uc720\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "}),(0,R.jsxs)(T,{children:[(0,R.jsx)(K,{htmlFor:"post"}),(0,R.jsx)(N,{name:"post",id:"post",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:r,onChange:function(n){i(n.target.value),n.target.value.length>0&&J("")}}),(0,R.jsx)(q,{children:s.map((function(n,e){return(0,R.jsxs)(E,{children:[(0,R.jsx)("img",{src:n,alt:"\uac8c\uc2dc\uae00 \uc774\ubbf8\uc9c0"},e),(0,R.jsx)(G,{onClick:function(){return function(n){p(s.filter((function(e,t){return t!==n}))),d(u.filter((function(e,t){return t!==n})))}(e)},"aria-label":"\uc0ad\uc81c \ubc84\ud2bc",children:(0,R.jsx)("img",{src:D,alt:"\uc0ad\uc81c"})})]},e)}))}),(0,R.jsx)(R.Fragment,{children:""===C?(0,R.jsx)(U,{children:h}):(0,R.jsx)(U,{children:C})}),(0,R.jsxs)(_,{children:[(0,R.jsx)(H,{onClick:function(){return $.apply(this,arguments)},"aria-label":"\uac8c\uc2dc\uae00 \ub4f1\ub85d",children:"\uac8c\uc2dc\uae00 \ub4f1\ub85d\ud558\uae30"}),(0,R.jsx)(K,{htmlFor:"input-file",children:(0,R.jsx)("img",{src:S,alt:"\uc568\ubc94 \uc774\ubbf8\uc9c0"})}),(0,R.jsx)(M,{id:"input-file",name:"PostImg",type:"file",accept:".png, .jpg, .jpeg",onChange:function(n){!function(n){for(var e=(0,j.Z)(s),t=(0,j.Z)(u),r=n.target.files,i=0,o=0;o<r.length;o++)if((i+=r[o].size)>10485760)f(" \uc774\ubbf8\uc9c0 \ud06c\uae30\ub294 10MB \uc81c\ud55c\uc785\ub2c8\ub2e4.");else{var a=window.URL.createObjectURL(r[o]);e.push(a),t.push(r[o])}e.length>3?(f("\uc0ac\uc9c4\uc740 \ucd5c\ub300 3\uc7a5\uae4c\uc9c0 \uc5c5\ub85c\ub4dc \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),J(""),e=e.slice(0,3),t=t.slice(0,3)):e.length<=3&&f(""),p(e),d(t)}(n),J("")},value:W.post.image,ref:Q})]})]})]})})});return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(z.Z,{page:nn})})}var A=C.ZP.div(r||(r=(0,b.Z)(["\n    padding: 200px 0;\n    background-color: #dae1e6;\n"]))),B=C.ZP.div(i||(i=(0,b.Z)(["\n    max-width: 1400px;\n    margin: 0 auto;\n"]))),I=C.ZP.div(o||(o=(0,b.Z)(["\n    padding: 40px 80px 90px;\n    border: 1px solid rgba(0,0,0,0.09);\n    border-radius: 15px;\n    background-color: #ffff;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.04);\n"]))),L=C.ZP.div(a||(a=(0,b.Z)(["\n    padding: 50px 0 0px;\n    border: none;\n    font-size: 40px;\n    text-align: center;\n    color: #2b2b2b;\n    &h2{\n        display: inline-block;\n        color: #2b2b2b;\n    }\n"]))),O=C.ZP.h3(s||(s=(0,b.Z)(["\n    margin-bottom: 30px;\n    font-size: 20px;\n    text-align: center;\n    color: #868686;\n"]))),T=C.ZP.div(p||(p=(0,b.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]))),U=C.ZP.p(c||(c=(0,b.Z)(["\n    margin-top: 20px;\n    margin-bottom: -10px;\n    margin-left: -60px;\n    font-size: 14px;\n    color: #C63D2F;\n"]))),_=C.ZP.div(l||(l=(0,b.Z)(["\n    display: flex;\n    gap: 20px;\n    margin-top: 30px;\n"]))),K=C.ZP.label(u||(u=(0,b.Z)(["\n    & img {\n        width: 60px;\n        height: 60px;\n        border-radius: 7px;\n    }\n"]))),M=C.ZP.input(d||(d=(0,b.Z)(["\n    display: none;\n"]))),N=C.ZP.textarea(x||(x=(0,b.Z)(['\n    width: 70%;\n    height: 500px;\n    margin: 0 auto;\n    padding: 16px;\n    font-family: "Noto_Sans_KR-400";\n    font-size: 20px;\n    resize: none;\n']))),q=C.ZP.ul(g||(g=(0,b.Z)(["\n    display: flex;\n    gap: 15px;\n    margin-top: 30px;\n"]))),E=C.ZP.li(h||(h=(0,b.Z)(["\n    border: 1px solid rgba(0,0,0,0.09);\n    border-radius: 10px;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.04);\n    & img {\n        width: 280px;\n        height: 180px;\n        object-fit: cover;\n    }\n"]))),G=C.ZP.button(f||(f=(0,b.Z)(["\n    & img {\n        position: absolute;\n        width: 32px;\n        height: 32px;\n        margin-top: -190px;\n        margin-left: -20px;\n        border-radius: 50px;\n        background-color: #475569;\n        cursor: pointer;\n    }\n"]))),H=C.ZP.button(Z||(Z=(0,b.Z)(["\n    width: 400px;\n    height: 60px;\n    border: 1px solid #C63D2F;\n    border-radius: 5px;\n    background: #C63D2F;\n    font-size: 15px;\n    font-weight: 400;\n    color: #fff;\n    line-height: 60px;\n    cursor: pointer;\n"])))},6842:function(n,e,t){n.exports=t.p+"static/media/delete-button.b220e22164b63b3a2241.webp"}}]);
//# sourceMappingURL=759.bd439fc6.chunk.js.map