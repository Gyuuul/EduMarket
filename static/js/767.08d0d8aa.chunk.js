"use strict";(self.webpackChunkedu=self.webpackChunkedu||[]).push([[767],{3767:function(n,t,e){e.r(t),e.d(t,{default:function(){return N}});var r,i,o,a,s,c,p,l,u,x,d,f,h,g,Z,m,b=e(168),j=e(3433),v=e(4165),y=e(5861),w=e(9439),P=e(2791),k=e(7689),S=e(1243),C=e(5867),_=e(2451),z=e(2754),R=e(3116),F=e(6842),K=e(184);function N(){var n=(0,k.UO)().postId,t=localStorage.getItem("Access Token"),e=(0,P.useState)(""),r=(0,w.Z)(e,2),i=r[0],o=r[1],a=(0,P.useState)([]),s=(0,w.Z)(a,2),c=s[0],p=s[1],l=(0,P.useState)([]),u=(0,w.Z)(l,2),x=u[0],d=u[1],f=(0,P.useState)(""),h=(0,w.Z)(f,2),g=h[0],Z=h[1],m=(0,P.useState)(""),b=(0,w.Z)(m,2),C=b[0],N=b[1],W=(0,P.useRef)(null),X=(0,k.s0)(),Y={post:{content:"",image:""}};function $(n){return nn.apply(this,arguments)}function nn(){return(nn=(0,y.Z)((0,v.Z)().mark((function n(t){var e,r,i;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=new FormData).append("image",t),n.next=4,S.Z.post("".concat(z.J,"/image/uploadfile"),e);case 4:return r=n.sent,i="".concat(z.J,"/")+r.data.filename,n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function tn(){return(tn=(0,y.Z)((0,v.Z)().mark((function n(t){var e,r,i,o,a,s;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=(0,j.Z)(c),r=(0,j.Z)(x),i=t.target.files,10485760,o=0,a=0;a<i.length;a++)(o+=i[a].size)>10485760?alert(" \ucd1d \uc774\ubbf8\uc9c0\uc758 \ud06c\uae30\ub294 10MB\uc785\ub2c8\ub2e4."):(s=URL.createObjectURL(i[a]),e.push($(i[a])),r.push(s));e.length>3?(Z("\uc0ac\uc9c4\uc740 \ucd5c\ub300 3\uc7a5\uae4c\uc9c0 \uc5c5\ub85c\ub4dc \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),e=e.slice(0,3),r=r.slice(0,3)):e.length<=3&&Z(""),p(e),d(r);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var en=function(n){p(c.filter((function(t,e){return e!==n}))),d(x.filter((function(t,e){return e!==n})))};function rn(){return(rn=(0,y.Z)((0,v.Z)().mark((function e(){var r,o;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,j.Z)(c),e.next=3,Promise.all(r);case 3:return o=e.sent,Y.post.image=o.join(","),Y.post.content=i,""==Y.post.content&&""==Y.post.image&&N("\uae00 \ub610\ub294 \uc0ac\uc9c4\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.prev=7,e.next=10,S.Z.put("".concat(z.J,"/post/").concat(n),Y,{headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 10:e.sent,X("/post/detail/".concat(n)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}function on(){return(on=(0,y.Z)((0,v.Z)().mark((function e(){var r,i;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Z.get("".concat(z.J,"/post/").concat(n),{headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 2:r=e.sent,i=r.data.post,d(i.image.split(",")),p(i.image.split(",")),o(i.content);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,P.useEffect)((function(){!function(){on.apply(this,arguments)}()}),[]);var an=(0,K.jsx)(D,{children:(0,K.jsx)(J,{children:(0,K.jsxs)(A,{children:[(0,K.jsx)(B,{children:(0,K.jsx)(I,{children:"POST"})}),(0,K.jsx)(O,{children:" \uae00\uacfc \uc0ac\uc9c4\uc744 \uc790\uc720\ub86d\uac8c \uacf5\uc720\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "}),(0,K.jsxs)(U,{children:[(0,K.jsx)(E,{htmlFor:"post"}),(0,K.jsx)(q,{name:"post",id:"post",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:i,onChange:function(n){o(n.target.value)}}),(0,K.jsx)(G,{children:0!==x.length?x.map((function(n,t){return n&&(0,K.jsxs)(H,{children:[(0,K.jsx)("img",{src:n,alt:"\uac8c\uc2dc\uae00 \uc774\ubbf8\uc9c0"},t),(0,K.jsx)(Q,{onClick:function(){return en(t)},"aria-label":"\uc0ad\uc81c",children:(0,K.jsx)("img",{src:F,alt:"\uc0ad\uc81c\ubc84\ud2bc"})})]},t)})):x.map((function(n,t){return(0,K.jsxs)(H,{children:[(0,K.jsx)("img",{src:n,alt:"\uac8c\uc2dc\uae00 \uc774\ubbf8\uc9c0"},t),(0,K.jsx)(Q,{onClick:function(){return en(t)},"aria-label":"\uc0ad\uc81c",children:(0,K.jsx)("img",{src:F,alt:"\uc0ad\uc81c \ubc84\ud2bc"})})]},t)}))}),(0,K.jsx)(K.Fragment,{children:""===C?(0,K.jsx)(L,{children:g}):(0,K.jsx)(L,{children:C})}),(0,K.jsxs)(T,{children:[(0,K.jsx)(V,{onClick:function(){return rn.apply(this,arguments)},children:"\uac8c\uc2dc\uae00 \uc218\uc815\ud558\uae30"}),(0,K.jsx)(E,{htmlFor:"input-file",children:(0,K.jsx)("img",{src:R,alt:""})}),(0,K.jsx)(M,{id:"input-file",name:"PostImg",type:"file",accept:".png, .jpg, .jpeg",onChange:function(n){!function(n){tn.apply(this,arguments)}(n),N("")},ref:W})]})]})]})})});return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(_.Z,{page:an})})}var D=C.ZP.div(r||(r=(0,b.Z)(["\n    background-color: #f1f2f3;\n    padding: 200px 0;\n"]))),J=C.ZP.div(i||(i=(0,b.Z)(["\n    max-width: 1400px;\n    margin: 0 auto;\n"]))),A=C.ZP.div(o||(o=(0,b.Z)(["\n    padding: 40px 80px 90px;\n    border: 1px solid rgba(0,0,0,0.09);\n    border-radius: 15px;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.04);\n    background-color: #ffff;\n"]))),B=C.ZP.div(a||(a=(0,b.Z)(["\n    padding: 50px 0 40px;\n    font-size: 40px;\n    text-align: center;\n    color: #2b2b2b;\n    border: none;\n"]))),I=C.ZP.h2(s||(s=(0,b.Z)(['\n    font-family: "Noto_Sans_KR-600";\n    display: inline-block;\n    color: #2b2b2b;\n']))),O=C.ZP.h3(c||(c=(0,b.Z)(['\n    font-family: "Noto_Sans_KR-400";\n    font-size: 20px;\n    text-align: center;\n    color: #868686;\n    margin-bottom: 30px;\n']))),U=C.ZP.div(p||(p=(0,b.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]))),L=C.ZP.p(l||(l=(0,b.Z)(['\n    font-family: "Noto_Sans_KR-400";\n    font-size: 14px;\n    color: #C63D2F;\n    margin-top: 20px;\n    margin-bottom: -10px;\n    margin-left: -60px;\n']))),T=C.ZP.div(u||(u=(0,b.Z)(["\n    display: flex;\n    gap: 20px;\n    margin-top: 30px;\n"]))),E=C.ZP.label(x||(x=(0,b.Z)(["\n    & img {\n        width: 60px;\n        height: 60px;\n        border-radius: 7px;\n    }\n"]))),M=C.ZP.input(d||(d=(0,b.Z)(['\n    font-family: "Noto_Sans_KR-400";\n    display: none;\n']))),q=C.ZP.textarea(f||(f=(0,b.Z)(['\n    font-family: "Noto_Sans_KR-400";\n    font-size: 20px;\n    resize: none;\n    width: 70%;\n    height: 500px;\n    margin: 0 auto;\n    padding: 16px;\n']))),G=C.ZP.ul(h||(h=(0,b.Z)(["\n    display: flex;\n    gap: 15px;\n    margin-top: 30px;\n"]))),H=C.ZP.li(g||(g=(0,b.Z)(["\n    border: 1px solid rgba(0,0,0,0.09);\n    border-radius: 10px;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.04);\n    & img {\n        width: 280px;\n        height: 180px;\n        object-fit: cover;\n    }\n"]))),Q=C.ZP.button(Z||(Z=(0,b.Z)(["\n    & img {\n        position: absolute;\n        width: 32px;\n        height: 32px;\n        border-radius: 50px;\n        background-color: #475569;\n        margin-top: -190px;\n        margin-left: -20px;\n        cursor: pointer;\n    }\n"]))),V=C.ZP.button(m||(m=(0,b.Z)(['\n    font-family: "Noto_Sans_KR-400";\n    width: 400px;\n    height: 60px;\n    line-height: 60px;\n    background: #C63D2F;\n    border: 1px solid #C63D2F;\n    border-radius: 5px;\n    color: #fff;\n    font-size: 15px;\n    font-weight: 400;\n    cursor: pointer;\n'])))},6842:function(n,t,e){n.exports=e.p+"static/media/delete-button.b220e22164b63b3a2241.webp"}}]);
//# sourceMappingURL=767.08d0d8aa.chunk.js.map